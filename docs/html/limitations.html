<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Strong4VM: Known Limitations and Troubleshooting</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">Strong4VM<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">A tool for extracting Strong Transitive Dependency and Conflict Graphs from Variability Models</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('limitations.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Known Limitations and Troubleshooting</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page documents known limitations, constraints, and solutions to common issues in Strong4VM.</p>
<h1><a class="anchor" id="autotoc_md114"></a>
UVL Conversion Limitations</h1>
<h2><a class="anchor" id="autotoc_md115"></a>
Feature Cardinality</h2>
<p><b>Limitation</b>: UVL cardinality notation <code>[1..*]</code> is not fully expanded.</p>
<p><b>Details</b>: <a class="el" href="classFeature.html" title="Represents a feature node in the UVL feature tree.">Feature</a> cardinality with unbounded upper limits requires indexed feature generation (creating separate variables for each instance), which is not currently implemented.</p>
<p><b>Supported</b>: </p><div class="fragment"><div class="line">features</div>
<div class="line">    required_feature [1..3]  ✓ Supported (bounded)</div>
</div><!-- fragment --><p><b>Not Supported</b>: </p><div class="fragment"><div class="line">features</div>
<div class="line">    optional_feature [1..*]  ✗ Not supported (unbounded)</div>
</div><!-- fragment --><p><b>Workaround</b>: Manually specify an upper bound if possible, or reformulate the constraint.</p>
<h2><a class="anchor" id="autotoc_md116"></a>
Arithmetic Constraints</h2>
<p><b>Limitation</b>: Comparison and arithmetic operators in constraints are filtered out during conversion.</p>
<p><b>Details</b>: Arithmetic constraints require SMT (Satisfiability Modulo Theories) solvers, not pure SAT solvers. Strong4VM uses SAT-based analysis and cannot handle arithmetic.</p>
<p><b>Not Supported</b>: </p><div class="fragment"><div class="line">constraints</div>
<div class="line">    featureA.value + featureB.value &lt; 10  ✗ Filtered out</div>
<div class="line">    featureC.price &gt;= 100  ✗ Filtered out</div>
</div><!-- fragment --><p><b>Workaround</b>:</p><ol type="1">
<li>Abstract arithmetic constraints into Boolean relationships when possible</li>
<li>Use an SMT solver for models with essential arithmetic constraints</li>
<li>Pre-process the model to resolve arithmetic constraints</li>
</ol>
<h2><a class="anchor" id="autotoc_md117"></a>
CNF Transformation</h2>
<p><b>No Clause Minimization</b>: The generated CNF formulas are not minimized. This means:</p><ul>
<li>Some redundant clauses may be present</li>
<li>Formula size may be larger than optimal</li>
<li>Analysis may be slower than with optimized formulas</li>
</ul>
<p><b>No Subsumption Checking</b>: Clause subsumption is not performed, which could reduce formula size.</p>
<h1><a class="anchor" id="autotoc_md118"></a>
Graph Generation Limitations</h1>
<h2><a class="anchor" id="autotoc_md119"></a>
Satisfiability Requirement</h2>
<p><b>Limitation</b>: Formulas must be satisfiable (SAT). Unsatisfiable (UNSAT) formulas are not supported.</p>
<p><b>Details</b>: If your feature model has contradictory constraints with no valid configuration, Strong4VM will report an error.</p>
<p><b>Error Message</b>: </p><div class="fragment"><div class="line">Error: Formula is UNSAT (no valid configurations exist)</div>
</div><!-- fragment --><p><b>Solution</b>:</p><ol type="1">
<li>Review your feature model's constraints for contradictions</li>
<li>Use a SAT solver to identify the UNSAT core</li>
<li>Remove or relax conflicting constraints</li>
</ol>
<h2><a class="anchor" id="autotoc_md120"></a>
Thread Count Limits</h2>
<p><b>Limitation</b>: Thread count is limited to the number of CPU cores.</p>
<p><b>Details</b>: The tool validates thread count against available CPU cores and will fail if you request more threads than available.</p>
<p><b>Error Handling</b>: </p><div class="fragment"><div class="line"># If you have 8 cores but request 16 threads:</div>
<div class="line">./bin/strong4vm model.uvl -t 16</div>
<div class="line"># Error: Requested 16 threads but only 8 cores available</div>
</div><!-- fragment --><p><b>Best Practices</b>:</p><ul>
<li>Use <code>nproc</code> (Linux) or <code>sysctl -n hw.ncpu</code> (macOS) to check core count</li>
<li>Leave 1-2 cores free for system processes</li>
<li>Optimal thread count: <code>min(cores - 1, num_variables / 50)</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md121"></a>
Memory Requirements</h2>
<p><b>Limitation</b>: Each thread requires approximately 60-70 MB of RAM.</p>
<p><b>Details</b>: Parallel processing creates independent solver instances for each thread, each requiring its own memory allocation.</p>
<p><b>Memory Estimation</b>: </p><div class="fragment"><div class="line">Required RAM ≈ 60 MB × num_threads + 100 MB (base overhead)</div>
</div><!-- fragment --><p><b>Examples</b>:</p><ul>
<li>1 thread: ~160 MB</li>
<li>4 threads: ~340 MB</li>
<li>8 threads: ~580 MB</li>
<li>16 threads: ~1060 MB</li>
</ul>
<p><b>Solution for Memory-Constrained Systems</b>: </p><div class="fragment"><div class="line"># Reduce thread count</div>
<div class="line">./bin/strong4vm model.uvl -t 2</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md122"></a>
Performance Limitations</h1>
<h2><a class="anchor" id="autotoc_md123"></a>
Small Formula Overhead</h2>
<p><b>Issue</b>: For very small formulas (&lt;50 variables), multi-threading adds overhead.</p>
<p>**Explanation**: Thread creation and synchronization overhead exceeds the benefit of parallel processing.</p>
<p>**Recommendation**: </p><div class="fragment"><div class="line"># For small models, use 1 thread</div>
<div class="line">./bin/strong4vm small_model.uvl -t 1</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md124"></a>
Large Formula Scalability</h2>
<p>**Issue**: Very large formulas (&gt;10,000 variables) may have long processing times.</p>
<p><b>Factors</b>:</p><ul>
<li>SAT solving complexity (backbone detection requires multiple SAT queries)</li>
<li>Graph generation requires checking all variable pairs</li>
<li>Memory bandwidth limitations</li>
</ul>
<p><b>Optimization Strategies</b>:</p><ol type="1">
<li>Use maximum available threads</li>
<li>Ensure sufficient RAM</li>
<li>Use SSD storage for faster I/O</li>
<li>Consider formula simplification if possible</li>
</ol>
<h1><a class="anchor" id="autotoc_md125"></a>
Thread Safety Limitations</h1>
<h2><a class="anchor" id="autotoc_md126"></a>
Backbone Solver API</h2>
<p><b>Critical Limitation</b>: <code>BackboneSolverAPI</code> is NOT thread-safe.</p>
<p><b>Correct Usage</b> (Pre-initialization Pattern): </p><div class="fragment"><div class="line"><span class="comment">// ✓ CORRECT: Initialize in main thread</span></div>
<div class="line">std::vector&lt;BackboneSolverAPI*&gt; solvers;</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_threads; i++) {</div>
<div class="line">    solvers.push_back(<span class="keyword">new</span> BackboneSolverAPI());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Then use in parallel</span></div>
<div class="line"><span class="preprocessor">#pragma omp parallel for</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> var = 0; var &lt; num_vars; var++) {</div>
<div class="line">    <span class="keywordtype">int</span> tid = omp_get_thread_num();</div>
<div class="line">    solvers[tid]-&gt;analyze(...);</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Incorrect Usage</b>: </p><div class="fragment"><div class="line"><span class="comment">// ✗ WRONG: Never initialize inside parallel region</span></div>
<div class="line"><span class="preprocessor">#pragma omp parallel</span></div>
<div class="line">{</div>
<div class="line">    BackboneSolverAPI solver;  <span class="comment">// RACE CONDITION!</span></div>
<div class="line">    solver.analyze(...);</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Why This Matters</b>: Violating this pattern leads to:</p><ul>
<li>Race conditions</li>
<li>Memory corruption</li>
<li>Unpredictable crashes</li>
<li>Incorrect results</li>
</ul>
<h1><a class="anchor" id="autotoc_md127"></a>
File Format Limitations</h1>
<h2><a class="anchor" id="autotoc_md128"></a>
UVL Parser</h2>
<p><b>Supported</b>: Standard UVL 2.0 syntax <b>Not Supported</b>:</p><ul>
<li>Custom UVL extensions</li>
<li>Non-standard comment formats</li>
<li>Some edge cases in grammar</li>
</ul>
<h2><a class="anchor" id="autotoc_md129"></a>
DIMACS Format</h2>
<p><b>Requirements</b>:</p><ul>
<li>Standard DIMACS CNF format</li>
<li>Header: <code>p cnf &lt;vars&gt; &lt;clauses&gt;</code></li>
<li>Clauses terminated with 0</li>
<li>Comments start with 'c'</li>
</ul>
<p><b>Optional <a class="el" href="classFeature.html" title="Represents a feature node in the UVL feature tree.">Feature</a> Mapping</b>: </p><div class="fragment"><div class="line">c &lt;variable_number&gt; &lt;feature_name&gt;</div>
</div><!-- fragment --><p>If feature name comments are missing, output will use variable numbers instead of feature names.</p>
<h1><a class="anchor" id="autotoc_md130"></a>
Output Format Limitations</h1>
<h2><a class="anchor" id="autotoc_md131"></a>
Pajek .net Format</h2>
<p><b>Limitation</b>: Output is only in Pajek .net format.</p>
<p><b>Workaround</b>: Convert to other formats using tools like:</p><ul>
<li>NetworkX (Python)</li>
<li>Gephi (import and export)</li>
<li>igraph (R/Python)</li>
</ul>
<p><b>Example NetworkX Conversion</b>: </p><div class="fragment"><div class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Read Pajek file</span></div>
<div class="line">G = nx.read_pajek(<span class="stringliteral">&quot;model__requires.net&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Export to other formats</span></div>
<div class="line">nx.write_gml(G, <span class="stringliteral">&quot;model.gml&quot;</span>)</div>
<div class="line">nx.write_graphml(G, <span class="stringliteral">&quot;model.graphml&quot;</span>)</div>
<div class="line">nx.write_edgelist(G, <span class="stringliteral">&quot;model.edgelist&quot;</span>)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md132"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="autotoc_md133"></a>
Build Issues</h2>
<h3><a class="anchor" id="autotoc_md134"></a>
CMake Errors</h3>
<p><b>Problem</b>: CMake configuration fails</p>
<p><b>Common Causes</b>:</p><ul>
<li>CMake version too old (need 3.10+)</li>
<li>Missing dependencies</li>
</ul>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Check CMake version</div>
<div class="line">cmake --version</div>
<div class="line"> </div>
<div class="line"># Upgrade if needed (Ubuntu/Debian)</div>
<div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install cmake</div>
<div class="line"> </div>
<div class="line"># Clean and rebuild</div>
<div class="line">make clean-all</div>
<div class="line">make</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md135"></a>
Compiler Errors</h3>
<p><b>Problem</b>: Compilation fails with C++ errors</p>
<p><b>Common Causes</b>:</p><ul>
<li>Compiler doesn't support C++17</li>
<li>Compiler too old</li>
</ul>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Check compiler version</div>
<div class="line">g++ --version    # Need g++ 7+</div>
<div class="line">clang++ --version  # Need clang++ 5+</div>
<div class="line"> </div>
<div class="line"># Upgrade compiler (Ubuntu/Debian)</div>
<div class="line">sudo apt-get install g++-9</div>
<div class="line"> </div>
<div class="line"># Specify compiler</div>
<div class="line">make CXX=g++-9</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md136"></a>
ANTLR4 Build Failures</h3>
<p><b>Problem</b>: ANTLR4 runtime fails to build</p>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Clean ANTLR4 build</div>
<div class="line">cd uvl2dimacs</div>
<div class="line">make clean-all</div>
<div class="line"> </div>
<div class="line"># Rebuild from scratch</div>
<div class="line">make all</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md137"></a>
Runtime Issues</h2>
<h3><a class="anchor" id="autotoc_md138"></a>
UNSAT Formula Error</h3>
<p><b>Problem</b>: "Formula is UNSAT" error</p>
<p><b>Diagnosis</b>: </p><div class="fragment"><div class="line"># Test with a SAT solver</div>
<div class="line">minisat model.dimacs result.txt</div>
<div class="line"># If UNSAT, your model has no valid configurations</div>
</div><!-- fragment --><p><b>Solutions</b>:</p><ol type="1">
<li>Check for contradictory constraints</li>
<li>Review mandatory and alternative groups</li>
<li>Verify cross-tree constraints</li>
<li>Use a minimal example to isolate the issue</li>
</ol>
<h3><a class="anchor" id="autotoc_md139"></a>
Out of Memory</h3>
<p><b>Problem</b>: Program crashes or system becomes unresponsive</p>
<p><b>Diagnosis</b>:</p><ul>
<li>Check available RAM: <code>free -h</code> (Linux) or <code>vm_stat</code> (macOS)</li>
<li>Estimate required RAM: 60 MB × threads + 100 MB</li>
</ul>
<p><b>Solutions</b>: </p><div class="fragment"><div class="line"># Reduce thread count</div>
<div class="line">./bin/strong4vm model.uvl -t 2</div>
<div class="line"> </div>
<div class="line"># Close other applications</div>
<div class="line"># Upgrade system RAM if consistently hitting limits</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md140"></a>
Slow Performance</h3>
<p><b>Problem</b>: Analysis takes too long</p>
<p><b>Diagnosis</b>:</p><ul>
<li>Check formula size: count variables and clauses in DIMACS file</li>
<li>Monitor CPU usage: <code>top</code> or <code>htop</code></li>
</ul>
<p><b>Optimization</b>: </p><div class="fragment"><div class="line"># Use more threads (up to core count)</div>
<div class="line">./bin/strong4vm model.uvl -t 8</div>
<div class="line"> </div>
<div class="line"># Profile to identify bottleneck</div>
<div class="line">time ./bin/strong4vm model.uvl -t 4</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md141"></a>
File Not Found Errors</h3>
<p><b>Problem</b>: Cannot find input file or dependencies</p>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Use absolute paths</div>
<div class="line">./bin/strong4vm /absolute/path/to/model.uvl</div>
<div class="line"> </div>
<div class="line"># Or verify relative paths</div>
<div class="line">ls -l model.uvl</div>
<div class="line"> </div>
<div class="line"># Check working directory</div>
<div class="line">pwd</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md142"></a>
Permission Denied</h3>
<p><b>Problem</b>: Cannot write output files</p>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Check directory permissions</div>
<div class="line">ls -ld output_directory</div>
<div class="line"> </div>
<div class="line"># Create output directory</div>
<div class="line">mkdir -p ./output</div>
<div class="line"> </div>
<div class="line"># Fix permissions</div>
<div class="line">chmod 755 ./output</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md143"></a>
WSL-Specific Issues</h2>
<h3><a class="anchor" id="autotoc_md144"></a>
File System Synchronization</h3>
<p><b>Problem</b>: Files created but not visible or build artifacts missing</p>
<p><b>Details</b>: Windows Subsystem for Linux may have file system sync issues</p>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Run sync command</div>
<div class="line">sync</div>
<div class="line"> </div>
<div class="line"># Use WSL filesystem (/home) instead of Windows paths (/mnt/c)</div>
<div class="line">cd ~/strong4vm</div>
<div class="line">make</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md145"></a>
Performance Tuning</h1>
<h2><a class="anchor" id="autotoc_md146"></a>
Thread Count Selection</h2>
<p><b>Formula Size</b>:</p><ul>
<li>&lt; 100 variables: 1-2 threads</li>
<li>100-500 variables: 4-8 threads</li>
<li>500-1000 variables: 8-12 threads</li>
<li>&gt; 1000 variables: up to CPU core count</li>
</ul>
<p><b>Rule of Thumb</b>: </p><div class="fragment"><div class="line">optimal_threads = min(cpu_cores - 1, num_variables / 50)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md147"></a>
Memory Optimization</h2>
<p>For memory-constrained systems:</p><ol type="1">
<li>Use fewer threads</li>
<li>Process models sequentially in batch jobs</li>
<li>Close unnecessary applications</li>
<li>Consider cloud instances with more RAM</li>
</ol>
<h2><a class="anchor" id="autotoc_md148"></a>
I/O Optimization</h2>
<p>For large batch processing:</p><ol type="1">
<li>Use SSD storage</li>
<li>Keep output on same filesystem as executable</li>
<li>Disable keepdimacs (-k) flag if not needed</li>
</ol>
<h1><a class="anchor" id="autotoc_md149"></a>
Getting Help</h1>
<p>If you encounter issues not covered here:</p>
<ol type="1">
<li><b>Check existing issues</b>: Visit the <a href="https://github.com/rheradio/Strong4VM/issues">GitHub repository</a></li>
<li><b>Enable verbose output</b>: Add debug flags if available</li>
<li><b>Create minimal example</b>: Isolate the problem with smallest possible model</li>
<li><b>Report issue</b>: Include:<ul>
<li>Strong4VM version</li>
<li>Operating system and version</li>
<li>Compiler version</li>
<li>Complete error message</li>
<li>Minimal reproducible example</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md150"></a>
See Also</h1>
<ul>
<li><a class="el" href="getting_started.html">Getting Started with Strong4VM</a> for installation and setup</li>
<li><a class="el" href="examples.html">Strong4VM Usage Examples</a> for usage patterns</li>
<li><a class="el" href="architecture.html">Strong4VM Architecture</a> for system design</li>
<li><a class="el" href="md__2mnt_2c_2strong4vm_2README.html">README</a> for quick reference </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
